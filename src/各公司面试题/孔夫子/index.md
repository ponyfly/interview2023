## iframe框架背景
微前端的概念来源于微服务，摒弃了大型单体应用的方式，将前端整体分解为小而简单的块儿，
这些块儿可以独立的开发、独立测试、独立部署、同时仍然可以聚合为一个产品来使用
将我们公司的后台拆分为很多小项目，实现独立开发、独立测试、独立部署，同时仍然可以聚合为一起
## 微前端使用场景
+ 比如制作一个企业管理平台，把已有的采购系统和财务系统统一接入这个平台；

+ 比如有一个巨大的应用，为了降低开发和维护成本，分拆成多个小应用进行开发和部署，然后用一个平台将这些小应用集成起来；

+ 又比如一个应用使用vue框架开发，其中有一个比较独立的模块，开发者想尝试使用react框架来开发，等模块单独开发部署完，再把这个模块应用接回去

## iframe缺点
+ 路由状态丢失，刷新一下，iframe的url状态就丢失了: 解决方案，在路由变化时，通过postMessage通知基座，基座修改url
+ dom割裂严重，弹窗只能在iframe内部展示，无法覆盖全局:解决方案，忽略，后台iframe占据80%区域
+ web应用之间通信非常困难
+ 每次打开白屏时间太长，对于SPA 应用来说无法接受
## iframe和qiankun对比
缺点：
+ 适配成本比较高，工程化、生命周期、静态资源路径、路由等都要做一系列的适配工作；
+ css 沙箱采用严格隔离会有各种问题，js 沙箱在某些场景下执行性能下降严重；
+ 无法同时激活多个子应用，也不支持子应用保活；
+ 无法支持 vite 等 esmodule 脚本运行；
## iframe如何解决跨域
+ 不同的二级域名：修改domain
+ 不同的主域：通过postMessage
